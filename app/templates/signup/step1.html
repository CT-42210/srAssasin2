{% extends 'base.html' %}

{% block title %}{{ game_state.game_name }} - Sign Up (Step 1){% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h1 class="text-center mb-4">Sign Up for {{ game_state.game_name }}</h1>
            
            <!-- Signup Progress Indicator -->
            <div class="signup-progress">
                <div class="row text-center">
                    <div class="col">
                        <div class="signup-step active">
                            <div class="signup-step-number">1</div>
                            <div class="signup-step-label">Rules</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="signup-step">
                            <div class="signup-step-number">2</div>
                            <div class="signup-step-label">Team Info</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="signup-step">
                            <div class="signup-step-number">3</div>
                            <div class="signup-step-label">Player 1</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="signup-step">
                            <div class="signup-step-number">4</div>
                            <div class="signup-step-label">Player 2</div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="signup-step">
                            <div class="signup-step-number">5</div>
                            <div class="signup-step-label">Team Photo</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h3>Step 1: Game Rules</h3>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <strong>Important:</strong> Please read and acknowledge the game rules before proceeding.
                    </div>
                    
                    <div class="rules-container p-3 mb-4" style="max-height: 300px; overflow-y: auto; border: 1px solid #dee2e6; border-radius: 5px;">
                        {% include 'rule_list.html' %}
                    </div>
                    
                    <form method="post" action="{{ url_for('auth.signup') }}" class="loading-form">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                        
                        <div class="form-check mb-4">
                            <input class="form-check-input" type="checkbox" name="rules_acknowledged" id="rules_acknowledged" required>
                            <label class="form-check-label" for="rules_acknowledged">
                                I have read and agree to follow the game rules. I understand that violations may result in disqualification.
                            </label>
                        </div>
                        
                        <div class="d-flex justify-content-between">
                            <a href="{{ url_for('main.index') }}" class="btn btn-secondary">Cancel</a>
                            <button type="submit" class="btn btn-primary">Continue</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
